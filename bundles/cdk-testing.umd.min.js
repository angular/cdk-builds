/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("@angular/cdk/testing",["exports"],e):e((t.ng=t.ng||{},t.ng.cdk=t.ng.cdk||{},t.ng.cdk.testing={}))}(this,function(t){"use strict";function e(t,e,n,r){return new(n||(n=Promise))(function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,s)}c((r=r.apply(t,e||[])).next())})}function n(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(u=2&n[0]?i.return:n[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(u=c.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){c.label=n[1];break}if(6===n[0]&&c.label<u[1]){c.label=u[1],u=n;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(n);break}u[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,s,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function r(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0);var o=document.createEvent("MouseEvent"),i=o.preventDefault;return o.initMouseEvent(t,!0,!0,window,0,e,n,e,n,!1,!1,!1,!1,r,null),Object.defineProperty(o,"buttons",{get:function(){return 1}}),o.preventDefault=function(){return Object.defineProperty(o,"defaultPrevented",{get:function(){return!0}}),i.apply(this,arguments)},o}function o(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=document.createEvent("UIEvent"),o={pageX:e,pageY:n};return r.initUIEvent(t,!0,!0,window,0),Object.defineProperties(r,{touches:{value:[o]},targetTouches:{value:[o]},changedTouches:{value:[o]}}),r}function i(t,e,n,r,o){void 0===e&&(e=0),void 0===n&&(n=""),void 0===o&&(o={});var i=document.createEvent("KeyboardEvent"),u=i.preventDefault;if(i.initKeyEvent)i.initKeyEvent(t,!0,!0,window,o.control,o.alt,o.shift,o.meta,e);else{var s=(o.control?"Control ":""+o.alt?"Alt ":""+o.shift?"Shift ":""+o.meta?"Meta":"").trim();i.initKeyboardEvent(t,!0,!0,window,0,n,0,s,!1)}return Object.defineProperties(i,{keyCode:{get:function(){return e}},key:{get:function(){return n}},target:{get:function(){return r}},ctrlKey:{get:function(){return!!o.control}},altKey:{get:function(){return!!o.alt}},shiftKey:{get:function(){return!!o.shift}},metaKey:{get:function(){return!!o.meta}}}),i.preventDefault=function(){return Object.defineProperty(i,"defaultPrevented",{get:function(){return!0}}),u.apply(this,arguments)},i}function u(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!0);var r=document.createEvent("Event");return r.initEvent(t,e,n),r}function s(t,e){return t.dispatchEvent(e),e}function c(t,e,n){return s(t,u(e,n))}function a(t,e,n,r,o,u){return s(t,i(e,n,r,o,u))}function l(t,e,n,o,i){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=r(e,n,o)),s(t,i)}function f(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=0),s(t,o(e,n,r))}function h(t,e){var n=!1,r=function(){return n=!0};t.addEventListener(e,r),t[e](),t.removeEventListener(e,r),n||c(t,e)}function p(t){t.focus=function(){return c(t,"focus")},t.blur=function(){return c(t,"blur")}}function d(t){h(t,"focus")}function v(t){h(t,"blur")}function y(t){var e=t instanceof A?t:new A(t,{}),n=e.harnessType,r=n.name,o=n.hostSelector,i=e.getDescription(),u="Expected to find element for "+r+' matching selector: "'+o+'"';return i&&(u+=" (with restrictions: "+i+")"),u+=", but none was found",Error(u)}function E(t){return"input"===t.nodeName.toLowerCase()||"textarea"===t.nodeName.toLowerCase()}function F(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,o,i=e[0];"string"!=typeof i&&void 0===i.keyCode&&void 0===i.key?(r=i,o=e.slice(1)):(r={},o=e);var u=o.map(function(t){return"string"==typeof t?t.split("").map(function(t){return{keyCode:t.toUpperCase().charCodeAt(0),key:t}}):[t]}).reduce(function(t,e){return t.concat(e)},[]);d(t);for(var s=0,l=u;s<l.length;s++){var f=l[s];a(t,"keydown",f.keyCode,f.key,t,r),a(t,"keypress",f.keyCode,f.key,t,r),E(t)&&f.key&&1===f.key.length&&(t.value+=f.key,c(t,"input")),a(t,"keyup",f.keyCode,f.key,t,r)}}function m(t){d(t),t.value="",c(t,"input")}var g=function(){function t(t){this.locatorFactory=t}return t.prototype.host=function(){return e(this,void 0,void 0,function(){return n(this,function(t){return[2,this.locatorFactory.rootElement]})})},t.prototype.documentRootLocatorFactory=function(){return this.locatorFactory.documentRootLocatorFactory()},t.prototype.locatorFor=function(t){return this.locatorFactory.locatorFor(t)},t.prototype.locatorForOptional=function(t){return this.locatorFactory.locatorForOptional(t)},t.prototype.locatorForAll=function(t){return this.locatorFactory.locatorForAll(t)},t}(),A=function(){function t(t,e){this.harnessType=t,this._predicates=[],this._descriptions=[],this._addBaseOptions(e)}return t.stringMatches=function(t,r){return e(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,t];case 1:return t=e.sent(),[2,"string"==typeof r?t===r:r.test(t)]}})})},t.prototype.add=function(t,e){return this._descriptions.push(t),this._predicates.push(e),this},t.prototype.addOption=function(t,e,n){var r="string"==typeof e?'"'+e+'"':""+e;return void 0!==e&&this.add(t+" = "+r,function(t){return n(t,e)}),this},t.prototype.filter=function(t){return e(this,void 0,void 0,function(){var e,r=this;return n(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(t){return r.evaluate(t)}))];case 1:return e=n.sent(),[2,t.filter(function(t,n){return e[n]})]}})})},t.prototype.evaluate=function(t){return e(this,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return[4,Promise.all(this._predicates.map(function(e){return e(t)}))];case 1:return e=n.sent(),[2,e.reduce(function(t,e){return t&&e},!0)]}})})},t.prototype.getDescription=function(){return this._descriptions.join(", ")},t.prototype.getSelector=function(){var t=this;return this._ancestor.split(",").map(function(e){return(e.trim()+" "+t.harnessType.hostSelector).trim()}).join(",")},t.prototype._addBaseOptions=function(t){var r=this;this._ancestor=t.ancestor||"",this._ancestor&&this._descriptions.push('has ancestor matching selector "'+this._ancestor+'"');var o=t.selector;void 0!==o&&this.add('host matches selector "'+o+'"',function(t){return e(r,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,t.host()];case 1:return[2,e.sent().matchesSelector(o)]}})})})},t}(),w=function(){function t(t){this.rawRootElement=t,this.rootElement=this.createTestElement(t)}return t.prototype.documentRootLocatorFactory=function(){return this.createEnvironment(this.getDocumentRoot())},t.prototype.locatorFor=function(t){var r=this;return function(){return e(r,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return"string"!=typeof t?[3,2]:(e=this.createTestElement,[4,this._assertElementFound(t)]);case 1:return[2,e.apply(this,[n.sent()])];case 2:return[2,this._assertHarnessFound(t)]}})})}},t.prototype.locatorForOptional=function(t){var r=this;return function(){return e(r,void 0,void 0,function(){var e,r;return n(this,function(n){switch(n.label){case 0:return"string"!=typeof t?[3,2]:[4,this.getAllRawElements(t)];case 1:return e=n.sent()[0],[2,e?this.createTestElement(e):null];case 2:return[4,this._getAllHarnesses(t)];case 3:return r=n.sent(),[2,r[0]||null]}})})}},t.prototype.locatorForAll=function(t){var r=this;return function(){return e(r,void 0,void 0,function(){var e=this;return n(this,function(n){switch(n.label){case 0:return"string"!=typeof t?[3,2]:[4,this.getAllRawElements(t)];case 1:return[2,n.sent().map(function(t){return e.createTestElement(t)})];case 2:return[2,this._getAllHarnesses(t)]}})})}},t.prototype.getHarness=function(t){return this.locatorFor(t)()},t.prototype.getAllHarnesses=function(t){return this.locatorForAll(t)()},t.prototype.getChildLoader=function(t){return e(this,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return e=this.createEnvironment,[4,this._assertElementFound(t)];case 1:return[2,e.apply(this,[n.sent()])]}})})},t.prototype.getAllChildLoaders=function(t){return e(this,void 0,void 0,function(){var e=this;return n(this,function(n){switch(n.label){case 0:return[4,this.getAllRawElements(t)];case 1:return[2,n.sent().map(function(t){return e.createEnvironment(t)})]}})})},t.prototype.createComponentHarness=function(t,e){return new t(this.createEnvironment(e))},t.prototype._getAllHarnesses=function(t){return e(this,void 0,void 0,function(){var e,r,o=this;return n(this,function(n){switch(n.label){case 0:return e=t instanceof A?t:new A(t,{}),[4,this.getAllRawElements(e.getSelector())];case 1:return r=n.sent(),[2,e.filter(r.map(function(t){return o.createComponentHarness(e.harnessType,t)}))]}})})},t.prototype._assertElementFound=function(t){return e(this,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return[4,this.getAllRawElements(t)];case 1:if(!(e=n.sent()[0]))throw Error('Expected to find element matching selector: "'+t+'", but none was found');return[2,e]}})})},t.prototype._assertHarnessFound=function(t){return e(this,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return[4,this._getAllHarnesses(t)];case 1:if(!(e=n.sent()[0]))throw y(t);return[2,e]}})})},t}(),R={BACKSPACE:0,TAB:1,ENTER:2,SHIFT:3,CONTROL:4,ALT:5,ESCAPE:6,PAGE_UP:7,PAGE_DOWN:8,END:9,HOME:10,LEFT_ARROW:11,UP_ARROW:12,RIGHT_ARROW:13,DOWN_ARROW:14,INSERT:15,DELETE:16,F1:17,F2:18,F3:19,F4:20,F5:21,F6:22,F7:23,F8:24,F9:25,F10:26,F11:27,F12:28,META:29};R[R.BACKSPACE]="BACKSPACE",R[R.TAB]="TAB",R[R.ENTER]="ENTER",R[R.SHIFT]="SHIFT",R[R.CONTROL]="CONTROL",R[R.ALT]="ALT",R[R.ESCAPE]="ESCAPE",R[R.PAGE_UP]="PAGE_UP",R[R.PAGE_DOWN]="PAGE_DOWN",R[R.END]="END",R[R.HOME]="HOME",R[R.LEFT_ARROW]="LEFT_ARROW",R[R.UP_ARROW]="UP_ARROW",R[R.RIGHT_ARROW]="RIGHT_ARROW",R[R.DOWN_ARROW]="DOWN_ARROW",R[R.INSERT]="INSERT",R[R.DELETE]="DELETE",R[R.F1]="F1",R[R.F2]="F2",R[R.F3]="F3",R[R.F4]="F4",R[R.F5]="F5",R[R.F6]="F6",R[R.F7]="F7",R[R.F8]="F8",R[R.F9]="F9",R[R.F10]="F10",R[R.F11]="F11",R[R.F12]="F12",R[R.META]="META",t.ComponentHarness=g,t.HarnessPredicate=A,t.dispatchEvent=s,t.dispatchFakeEvent=c,t.dispatchKeyboardEvent=a,t.dispatchMouseEvent=l,t.dispatchTouchEvent=f,t.patchElementFocus=p,t.triggerFocus=d,t.triggerBlur=v,t.createMouseEvent=r,t.createTouchEvent=o,t.createKeyboardEvent=i,t.createFakeEvent=u,t.HarnessEnvironment=w,t.TestKey=R,t.isTextInput=E,t.typeInElement=F,t.clearElement=m,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=cdk-testing.umd.min.js.map
