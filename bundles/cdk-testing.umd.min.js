!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("tslib")):"function"==typeof define&&define.amd?define("@angular/cdk/testing",["exports","tslib"],e):e(((t=t||self).ng=t.ng||{},t.ng.cdk=t.ng.cdk||{},t.ng.cdk.testing={}),t.tslib)}(this,function(t,e){"use strict";
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var n=function(){function t(t){this.locatorFactory=t}return t.prototype.host=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(t){return[2,this.locatorFactory.rootElement]})})},t.prototype.documentRootLocatorFactory=function(){return this.locatorFactory.documentRootLocatorFactory()},t.prototype.locatorFor=function(t){return this.locatorFactory.locatorFor(t)},t.prototype.locatorForOptional=function(t){return this.locatorFactory.locatorForOptional(t)},t.prototype.locatorForAll=function(t){return this.locatorFactory.locatorForAll(t)},t.prototype.forceStabilize=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(t){return[2,this.locatorFactory.forceStabilize()]})})},t}(),r=function(){function t(t,e){this.harnessType=t,this._predicates=[],this._descriptions=[],this._addBaseOptions(e)}return t.stringMatches=function(t,n){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(e){switch(e.label){case 0:return[4,t];case 1:return t=e.sent(),[2,"string"==typeof n?t===n:n.test(t)]}})})},t.prototype.add=function(t,e){return this._descriptions.push(t),this._predicates.push(e),this},t.prototype.addOption=function(t,e,n){return void 0!==e&&this.add(t+" = "+("string"==typeof e?'"'+e+'"':""+e),function(t){return n(t,e)}),this},t.prototype.filter=function(t){return e.__awaiter(this,void 0,void 0,function(){var n,r=this;return e.__generator(this,function(e){switch(e.label){case 0:return[4,Promise.all(t.map(function(t){return r.evaluate(t)}))];case 1:return n=e.sent(),[2,t.filter(function(t,e){return n[e]})]}})})},t.prototype.evaluate=function(t){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(e){switch(e.label){case 0:return[4,Promise.all(this._predicates.map(function(e){return e(t)}))];case 1:return[2,e.sent().reduce(function(t,e){return t&&e},!0)]}})})},t.prototype.getDescription=function(){return this._descriptions.join(", ")},t.prototype.getSelector=function(){var t=this;return this._ancestor.split(",").map(function(e){return(e.trim()+" "+t.harnessType.hostSelector).trim()}).join(",")},t.prototype._addBaseOptions=function(t){var n=this;this._ancestor=t.ancestor||"",this._ancestor&&this._descriptions.push('has ancestor matching selector "'+this._ancestor+'"');var r=t.selector;void 0!==r&&this.add('host matches selector "'+r+'"',function(t){return e.__awaiter(n,void 0,void 0,function(){return e.__generator(this,function(e){switch(e.label){case 0:return[4,t.host()];case 1:return[2,e.sent().matchesSelector(r)]}})})})},t}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function o(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0);var o=document.createEvent("MouseEvent"),i=o.preventDefault;return o.initMouseEvent(t,!0,!0,window,0,e,n,e,n,!1,!1,!1,!1,r,null),Object.defineProperty(o,"buttons",{get:function(){return 1}}),o.preventDefault=function(){return Object.defineProperty(o,"defaultPrevented",{get:function(){return!0}}),i.apply(this,arguments)},o}function i(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=document.createEvent("UIEvent"),o={pageX:e,pageY:n};return r.initUIEvent(t,!0,!0,window,0),Object.defineProperties(r,{touches:{value:[o]},targetTouches:{value:[o]},changedTouches:{value:[o]}}),r}function s(t,e,n,r,o){void 0===e&&(e=0),void 0===n&&(n=""),void 0===o&&(o={});var i=document.createEvent("KeyboardEvent"),s=i.preventDefault;if(i.initKeyEvent)i.initKeyEvent(t,!0,!0,window,o.control,o.alt,o.shift,o.meta,e);else{var a=(o.control?"Control ":""+o.alt?"Alt ":""+o.shift?"Shift ":""+o.meta?"Meta":"").trim();i.initKeyboardEvent(t,!0,!0,window,0,n,0,a,!1)}return Object.defineProperties(i,{keyCode:{get:function(){return e}},key:{get:function(){return n}},target:{get:function(){return r}},ctrlKey:{get:function(){return!!o.control}},altKey:{get:function(){return!!o.alt}},shiftKey:{get:function(){return!!o.shift}},metaKey:{get:function(){return!!o.meta}}}),i.preventDefault=function(){return Object.defineProperty(i,"defaultPrevented",{get:function(){return!0}}),s.apply(this,arguments)},i}function a(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!0);var r=document.createEvent("Event");return r.initEvent(t,e,n),r}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function u(t,e){return t.dispatchEvent(e),e}function c(t,e,n){return u(t,a(e,n))}function l(t,e,n,r,o,i){return u(t,s(e,n,r,o,i))}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function f(t,e){var n=!1,r=function(){return n=!0};t.addEventListener(e,r),t[e](),t.removeEventListener(e,r),n||c(t,e)}function h(t){f(t,"focus")}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var d,p=function(){function t(t){this.rawRootElement=t,this.rootElement=this.createTestElement(t)}return t.prototype.documentRootLocatorFactory=function(){return this.createEnvironment(this.getDocumentRoot())},t.prototype.locatorFor=function(t){var n=this;return function(){return e.__awaiter(n,void 0,void 0,function(){var n;return e.__generator(this,function(e){switch(e.label){case 0:return"string"!=typeof t?[3,2]:(n=this.createTestElement,[4,this._assertElementFound(t)]);case 1:return[2,n.apply(this,[e.sent()])];case 2:return[2,this._assertHarnessFound(t)]}})})}},t.prototype.locatorForOptional=function(t){var n=this;return function(){return e.__awaiter(n,void 0,void 0,function(){var n;return e.__generator(this,function(e){switch(e.label){case 0:return"string"!=typeof t?[3,2]:[4,this.getAllRawElements(t)];case 1:return[2,(n=e.sent()[0])?this.createTestElement(n):null];case 2:return[4,this._getAllHarnesses(t)];case 3:return[2,e.sent()[0]||null]}})})}},t.prototype.locatorForAll=function(t){var n=this;return function(){return e.__awaiter(n,void 0,void 0,function(){var n=this;return e.__generator(this,function(e){switch(e.label){case 0:return"string"!=typeof t?[3,2]:[4,this.getAllRawElements(t)];case 1:return[2,e.sent().map(function(t){return n.createTestElement(t)})];case 2:return[2,this._getAllHarnesses(t)]}})})}},t.prototype.getHarness=function(t){return this.locatorFor(t)()},t.prototype.getAllHarnesses=function(t){return this.locatorForAll(t)()},t.prototype.getChildLoader=function(t){return e.__awaiter(this,void 0,void 0,function(){var n;return e.__generator(this,function(e){switch(e.label){case 0:return n=this.createEnvironment,[4,this._assertElementFound(t)];case 1:return[2,n.apply(this,[e.sent()])]}})})},t.prototype.getAllChildLoaders=function(t){return e.__awaiter(this,void 0,void 0,function(){var n=this;return e.__generator(this,function(e){switch(e.label){case 0:return[4,this.getAllRawElements(t)];case 1:return[2,e.sent().map(function(t){return n.createEnvironment(t)})]}})})},t.prototype.createComponentHarness=function(t,e){return new t(this.createEnvironment(e))},t.prototype._getAllHarnesses=function(t){return e.__awaiter(this,void 0,void 0,function(){var n,o,i=this;return e.__generator(this,function(e){switch(e.label){case 0:return n=t instanceof r?t:new r(t,{}),[4,this.getAllRawElements(n.getSelector())];case 1:return o=e.sent(),[2,n.filter(o.map(function(t){return i.createComponentHarness(n.harnessType,t)}))]}})})},t.prototype._assertElementFound=function(t){return e.__awaiter(this,void 0,void 0,function(){var n;return e.__generator(this,function(e){switch(e.label){case 0:return[4,this.getAllRawElements(t)];case 1:if(!(n=e.sent()[0]))throw Error('Expected to find element matching selector: "'+t+'", but none was found');return[2,n]}})})},t.prototype._assertHarnessFound=function(t){return e.__awaiter(this,void 0,void 0,function(){var n;return e.__generator(this,function(e){switch(e.label){case 0:return[4,this._getAllHarnesses(t)];case 1:if(!(n=e.sent()[0]))throw function o(t){var e=t instanceof r?t:new r(t,{}),n=e.harnessType,o=n.name,i=n.hostSelector,s=e.getDescription(),a="Expected to find element for "+o+' matching selector: "'+i+'"';return s&&(a+=" (with restrictions: "+s+")"),a+=", but none was found",Error(a)}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(t);return[2,n]}})})},t}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function v(t){return"input"===t.nodeName.toLowerCase()||"textarea"===t.nodeName.toLowerCase()}(
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
d=t.TestKey||(t.TestKey={}))[d.BACKSPACE=0]="BACKSPACE",d[d.TAB=1]="TAB",d[d.ENTER=2]="ENTER",d[d.SHIFT=3]="SHIFT",d[d.CONTROL=4]="CONTROL",d[d.ALT=5]="ALT",d[d.ESCAPE=6]="ESCAPE",d[d.PAGE_UP=7]="PAGE_UP",d[d.PAGE_DOWN=8]="PAGE_DOWN",d[d.END=9]="END",d[d.HOME=10]="HOME",d[d.LEFT_ARROW=11]="LEFT_ARROW",d[d.UP_ARROW=12]="UP_ARROW",d[d.RIGHT_ARROW=13]="RIGHT_ARROW",d[d.DOWN_ARROW=14]="DOWN_ARROW",d[d.INSERT=15]="INSERT",d[d.DELETE=16]="DELETE",d[d.F1=17]="F1",d[d.F2=18]="F2",d[d.F3=19]="F3",d[d.F4=20]="F4",d[d.F5=21]="F5",d[d.F6=22]="F6",d[d.F7=23]="F7",d[d.F8=24]="F8",d[d.F9=25]="F9",d[d.F10=26]="F10",d[d.F11=27]="F11",d[d.F12=28]="F12",d[d.META=29]="META",
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
t.ComponentHarness=n,t.HarnessPredicate=r,t.dispatchEvent=u,t.dispatchFakeEvent=c,t.dispatchKeyboardEvent=l,t.dispatchMouseEvent=function _(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=o(e,n,r)),u(t,i)},t.dispatchTouchEvent=function y(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=0),u(t,i(e,n,r))},t.patchElementFocus=function E(t){t.focus=function(){return c(t,"focus")},t.blur=function(){return c(t,"blur")}},t.triggerFocus=h,t.triggerBlur=function g(t){f(t,"blur")},t.createMouseEvent=o,t.createTouchEvent=i,t.createKeyboardEvent=s,t.createFakeEvent=a,t.HarnessEnvironment=p,t.isTextInput=v,t.typeInElement=function m(t){for(var n,r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var s,a,u=o[0];"string"!=typeof u&&void 0===u.keyCode&&void 0===u.key?(s=u,a=o.slice(1)):(s={},a=o);var f=a.map(function(t){return"string"==typeof t?t.split("").map(function(t){return{keyCode:t.toUpperCase().charCodeAt(0),key:t}}):[t]}).reduce(function(t,e){return t.concat(e)},[]);h(t);try{for(var d=e.__values(f),p=d.next();!p.done;p=d.next()){var _=p.value;l(t,"keydown",_.keyCode,_.key,t,s),l(t,"keypress",_.keyCode,_.key,t,s),v(t)&&_.key&&1===_.key.length&&(t.value+=_.key,c(t,"input")),l(t,"keyup",_.keyCode,_.key,t,s)}}catch(t){n={error:t}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}},t.clearElement=function F(t){h(t),t.value="",c(t,"input")},Object.defineProperty(t,"__esModule",{value:!0})});