!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/testing"),require("@angular/core/testing"),require("rxjs/operators"),require("rxjs"),require("@angular/cdk/keycodes")):"function"==typeof define&&define.amd?define("@angular/cdk/testing/testbed",["exports","@angular/cdk/testing","@angular/core/testing","rxjs/operators","rxjs","@angular/cdk/keycodes"],t):t(((e=e||self).ng=e.ng||{},e.ng.cdk=e.ng.cdk||{},e.ng.cdk.testing=e.ng.cdk.testing||{},e.ng.cdk.testing.testbed={}),e.ng.cdk.testing,e.ng.core.testing,e.rxjs.operators,e.rxjs,e.ng.cdk.keycodes)}(this,(function(e,t,n,r,o,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},u=function(){return(u=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,u)}a((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function a(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var y,d=Symbol("ProxyZone_PATCHED#stateObservable"),h=function(){function e(e){this._lastState=e,this._stateSubject=new o.BehaviorSubject(this._lastState?this._getTaskStateFromInternalZoneState(this._lastState):{stable:!0}),this.state=this._stateSubject.asObservable()}return e.prototype.onHasTask=function(e,t,n,r){t===n&&this._stateSubject.next(this._getTaskStateFromInternalZoneState(r))},e.prototype._getTaskStateFromInternalZoneState=function(e){return{stable:!e.macroTask&&!e.microTask}},e.setup=function(){if(void 0===Zone)throw Error("Could not find ZoneJS. For test harnesses running in TestBed, ZoneJS needs to be installed.");var t=Zone.ProxyZoneSpec;if(!t)throw Error("ProxyZoneSpec is needed for the test harnesses but could not be found. Please make sure that your environment includes zone.js/dist/zone-testing.js");var n=t.assertPresent();if(n[d])return n[d];var r=new e(n.lastTaskState),o=n.onHasTask.bind(n);return n.onHasTask=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.apply(void 0,f(e)),r.onHasTask.apply(r,f(e))},n[d]=r.state},e}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function p(e,t){return e.dispatchEvent(t),t}function v(e,t,n){return p(e,function r(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var r=document.createEvent("Event");return r.initEvent(e,t,n),r}(t,n))}function k(e,t,n,r,o,i){return p(e,function s(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=""),void 0===o&&(o={});var i=document.createEvent("KeyboardEvent"),s=i.preventDefault;if(i.initKeyEvent)i.initKeyEvent(e,!0,!0,window,o.control,o.alt,o.shift,o.meta,t);else{var u="";o.control&&(u+="Control "),o.alt&&(u+="Alt "),o.shift&&(u+="Shift "),o.meta&&(u+="Meta "),i.initKeyboardEvent(e,!0,!0,window,0,n,0,u.trim(),!1)}return Object.defineProperties(i,{keyCode:{get:function(){return t}},key:{get:function(){return n}},target:{get:function(){return r}},ctrlKey:{get:function(){return!!o.control}},altKey:{get:function(){return!!o.alt}},shiftKey:{get:function(){return!!o.shift}},metaKey:{get:function(){return!!o.meta}}}),i.preventDefault=function(){return Object.defineProperty(i,"defaultPrevented",{get:function(){return!0}}),s.apply(this,arguments)},i}(t,n,r,o,i))}function b(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=0),p(e,
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function o(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0);var o=document.createEvent("MouseEvent"),i=o.preventDefault.bind(o);return o.initMouseEvent(e,!0,!0,window,0,t,n,t,n,!1,!1,!1,!1,r,null),Object.defineProperty(o,"buttons",{get:function(){return 1}}),o.preventDefault=function(){return Object.defineProperty(o,"defaultPrevented",{get:function(){return!0}}),i()},o}(t,n,r))}function m(e,t,n,r,o){return void 0===n&&(n=0),void 0===r&&(r=0),p(e,function i(e,t,n,r){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r={isPrimary:!0}),new PointerEvent(e,u({bubbles:!0,cancelable:!0,view:window,clientX:t,clientY:n},r))}(t,n,r,o))}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function g(e,t){var n=!1,r=function(){return n=!0};e.addEventListener(t,r),e[t](),e.removeEventListener(t,r),n||v(e,t)}function w(e){g(e,"focus")}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function T(e){var t=e.nodeName.toLowerCase();return"input"===t||"textarea"===t}function E(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i,s,u=r[0];"string"!=typeof u&&void 0===u.keyCode&&void 0===u.key?(i=u,s=r.slice(1)):(i={},s=r);var a=s.map((function(e){return"string"==typeof e?e.split("").map((function(e){return{keyCode:e.toUpperCase().charCodeAt(0),key:e}})):[e]})).reduce((function(e,t){return e.concat(t)}),[]);w(e);try{for(var c=function l(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(a),f=c.next();!f.done;f=c.next()){var y=f.value;k(e,"keydown",y.keyCode,y.key,e,i),k(e,"keypress",y.keyCode,y.key,e,i),T(e)&&y.key&&1===y.key.length&&(e.value+=y.key,v(e,"input")),k(e,"keyup",y.keyCode,y.key,e,i)}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}var _=((y={})[t.TestKey.BACKSPACE]={keyCode:i.BACKSPACE,key:"Backspace"},y[t.TestKey.TAB]={keyCode:i.TAB,key:"Tab"},y[t.TestKey.ENTER]={keyCode:i.ENTER,key:"Enter"},y[t.TestKey.SHIFT]={keyCode:i.SHIFT,key:"Shift"},y[t.TestKey.CONTROL]={keyCode:i.CONTROL,key:"Control"},y[t.TestKey.ALT]={keyCode:i.ALT,key:"Alt"},y[t.TestKey.ESCAPE]={keyCode:i.ESCAPE,key:"Escape"},y[t.TestKey.PAGE_UP]={keyCode:i.PAGE_UP,key:"PageUp"},y[t.TestKey.PAGE_DOWN]={keyCode:i.PAGE_DOWN,key:"PageDown"},y[t.TestKey.END]={keyCode:i.END,key:"End"},y[t.TestKey.HOME]={keyCode:i.HOME,key:"Home"},y[t.TestKey.LEFT_ARROW]={keyCode:i.LEFT_ARROW,key:"ArrowLeft"},y[t.TestKey.UP_ARROW]={keyCode:i.UP_ARROW,key:"ArrowUp"},y[t.TestKey.RIGHT_ARROW]={keyCode:i.RIGHT_ARROW,key:"ArrowRight"},y[t.TestKey.DOWN_ARROW]={keyCode:i.DOWN_ARROW,key:"ArrowDown"},y[t.TestKey.INSERT]={keyCode:i.INSERT,key:"Insert"},y[t.TestKey.DELETE]={keyCode:i.DELETE,key:"Delete"},y[t.TestKey.F1]={keyCode:i.F1,key:"F1"},y[t.TestKey.F2]={keyCode:i.F2,key:"F2"},y[t.TestKey.F3]={keyCode:i.F3,key:"F3"},y[t.TestKey.F4]={keyCode:i.F4,key:"F4"},y[t.TestKey.F5]={keyCode:i.F5,key:"F5"},y[t.TestKey.F6]={keyCode:i.F6,key:"F6"},y[t.TestKey.F7]={keyCode:i.F7,key:"F7"},y[t.TestKey.F8]={keyCode:i.F8,key:"F8"},y[t.TestKey.F9]={keyCode:i.F9,key:"F9"},y[t.TestKey.F10]={keyCode:i.F10,key:"F10"},y[t.TestKey.F11]={keyCode:i.F11,key:"F11"},y[t.TestKey.F12]={keyCode:i.F12,key:"F12"},y[t.TestKey.META]={keyCode:i.META,key:"Meta"},y),C=function(){function e(e,t){this.element=e,this._stabilize=t}return e.prototype.blur=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),function t(e){g(e,"blur")}(this.element),[4,this._stabilize()];case 2:return e.sent(),[2]}}))}))},e.prototype.clear=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:if(e.sent(),!T(this.element))throw Error("Attempting to clear an invalid element");return function t(e){w(e),e.value="",v(e,"input")}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(this.element),[4,this._stabilize()];case 2:return e.sent(),[2]}}))}))},e.prototype.click=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(this,void 0,void 0,(function(){var t,n,r,o,i,s,u,a;return c(this,(function(c){switch(c.label){case 0:return[4,this.getDimensions()];case 1:return t=c.sent(),n=t.top,r=t.width,o=t.height,i=e.length?e[1]:o/2,s=Math.round(t.left+(e.length?e[0]:r/2)),u=Math.round(n+i),(a=void 0!==window.PointerEvent)&&m(this.element,"pointerdown",s,u),b(this.element,"mousedown",s,u),a&&b(this.element,"pointerup",s,u),b(this.element,"mouseup",s,u),b(this.element,"click",s,u),[4,this._stabilize()];case 2:return c.sent(),[2]}}))}))},e.prototype.focus=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),w(this.element),[4,this._stabilize()];case 2:return e.sent(),[2]}}))}))},e.prototype.getCssValue=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,getComputedStyle(this.element).getPropertyValue(e)]}}))}))},e.prototype.hover=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),b(this.element,"mouseenter"),[4,this._stabilize()];case 2:return e.sent(),[2]}}))}))},e.prototype.sendKeys=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,this._stabilize()];case 1:return n.sent(),t=e.map((function(e){return"number"==typeof e?_[e]:e})),E.apply(void 0,f([this.element],t)),[4,this._stabilize()];case 2:return n.sent(),[2]}}))}))},e.prototype.text=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),[2,(this.element.textContent||"").trim()]}}))}))},e.prototype.getAttribute=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,this.element.getAttribute(e)]}}))}))},e.prototype.hasClass=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,this.element.classList.contains(e)]}}))}))},e.prototype.getDimensions=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),[2,this.element.getBoundingClientRect()]}}))}))},e.prototype.getProperty=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,this.element[e]]}}))}))},e.prototype.matchesSelector=function(e){return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,this._stabilize()];case 1:return n.sent(),[2,((t=Element.prototype).matches||t.msMatchesSelector).call(this.element,e)]}}))}))},e.prototype.isFocused=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),[2,document.activeElement===this.element]}}))}))},e}(),F={queryFn:function(e,t){return t.querySelectorAll(e)}},S=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o._fixture=n,o._destroyed=!1,o._options=u(u({},F),r),o._taskState=h.setup(),n.componentRef.onDestroy((function(){return o._destroyed=!0})),o}return function o(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.loader=function(e,n){return new t(e.nativeElement,e,n)},t.documentRootLoader=function(e,n){return new t(document.body,e,n)},t.harnessForFixture=function(e,n,r){return a(this,void 0,void 0,(function(){var o;return c(this,(function(i){switch(i.label){case 0:return[4,(o=new t(e.nativeElement,e,r)).forceStabilize()];case 1:return i.sent(),[2,o.createComponentHarness(n,e.nativeElement)]}}))}))},t.prototype.forceStabilize=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:if(this._destroyed)throw Error("Harness is attempting to use a fixture that has already been destroyed.");return this._fixture.detectChanges(),[4,this._fixture.whenStable()];case 1:return e.sent(),[2]}}))}))},t.prototype.waitForTasksOutsideAngular=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return Zone.current.get("FakeAsyncTestZoneSpec")&&n.flush(),[4,this._taskState.pipe(r.takeWhile((function(e){return!e.stable}))).toPromise()];case 1:return e.sent(),[2]}}))}))},t.prototype.getDocumentRoot=function(){return document.body},t.prototype.createTestElement=function(e){var t=this;return new C(e,(function(){return t.forceStabilize()}))},t.prototype.createEnvironment=function(e){return new t(e,this._fixture,this._options)},t.prototype.getAllRawElements=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.forceStabilize()];case 1:return t.sent(),[2,Array.from(this._options.queryFn(e,this.rawRootElement))]}}))}))},t}(t.HarnessEnvironment);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
e.TestbedHarnessEnvironment=S,e.UnitTestElement=C,Object.defineProperty(e,"__esModule",{value:!0})}));