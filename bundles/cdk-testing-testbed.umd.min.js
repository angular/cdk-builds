!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("tslib"),require("@angular/cdk/testing"),require("@angular/core/testing"),require("rxjs/operators"),require("rxjs"),require("@angular/cdk/keycodes")):"function"==typeof define&&define.amd?define("@angular/cdk/testing/testbed",["exports","tslib","@angular/cdk/testing","@angular/core/testing","rxjs/operators","rxjs","@angular/cdk/keycodes"],t):t(((e=e||self).ng=e.ng||{},e.ng.cdk=e.ng.cdk||{},e.ng.cdk.testing=e.ng.cdk.testing||{},e.ng.cdk.testing.testbed={}),e.tslib,e.ng.cdk.testing,e.ng.core.testing,e.rxjs.operators,e.rxjs,e.ng.cdk.keycodes)}(this,function(e,t,n,r,i,s,o){"use strict";
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var a,u,c=Symbol("ProxyZone_PATCHED#stateObservable"),l=function(){function e(e){this._lastState=e,this._stateSubject=new s.BehaviorSubject(this._lastState?this._getTaskStateFromInternalZoneState(this._lastState):{stable:!0}),this.state=this._stateSubject.asObservable()}return e.prototype.onHasTask=function(e,t,n,r){t===n&&this._stateSubject.next(this._getTaskStateFromInternalZoneState(r))},e.prototype._getTaskStateFromInternalZoneState=function(e){return{stable:!e.macroTask&&!e.microTask}},e.setup=function(){if(void 0===Zone)throw Error("Could not find ZoneJS. For test harnesses running in TestBed, ZoneJS needs to be installed.");var t=Zone.ProxyZoneSpec;if(!t)throw Error("ProxyZoneSpec is needed for the test harnesses but could not be found. Please make sure that your environment includes zone.js/dist/zone-testing.js");var n=t.assertPresent();if(n[c])return n[c];var r=new e(n.lastTaskState),i=n.onHasTask;return n.onHasTask=function(){i.apply(n,arguments),r.onHasTask.apply(r,arguments)},n[c]=r.state},e}();!function(e){e[e.BACKSPACE=0]="BACKSPACE",e[e.TAB=1]="TAB",e[e.ENTER=2]="ENTER",e[e.SHIFT=3]="SHIFT",e[e.CONTROL=4]="CONTROL",e[e.ALT=5]="ALT",e[e.ESCAPE=6]="ESCAPE",e[e.PAGE_UP=7]="PAGE_UP",e[e.PAGE_DOWN=8]="PAGE_DOWN",e[e.END=9]="END",e[e.HOME=10]="HOME",e[e.LEFT_ARROW=11]="LEFT_ARROW",e[e.UP_ARROW=12]="UP_ARROW",e[e.RIGHT_ARROW=13]="RIGHT_ARROW",e[e.DOWN_ARROW=14]="DOWN_ARROW",e[e.INSERT=15]="INSERT",e[e.DELETE=16]="DELETE",e[e.F1=17]="F1",e[e.F2=18]="F2",e[e.F3=19]="F3",e[e.F4=20]="F4",e[e.F5=21]="F5",e[e.F6=22]="F6",e[e.F7=23]="F7",e[e.F8=24]="F8",e[e.F9=25]="F9",e[e.F10=26]="F10",e[e.F11=27]="F11",e[e.F12=28]="F12",e[e.META=29]="META"}(a||(a={}));var d=((u={})[a.BACKSPACE]={keyCode:o.BACKSPACE,key:"Backspace"},u[a.TAB]={keyCode:o.TAB,key:"Tab"},u[a.ENTER]={keyCode:o.ENTER,key:"Enter"},u[a.SHIFT]={keyCode:o.SHIFT,key:"Shift"},u[a.CONTROL]={keyCode:o.CONTROL,key:"Control"},u[a.ALT]={keyCode:o.ALT,key:"Alt"},u[a.ESCAPE]={keyCode:o.ESCAPE,key:"Escape"},u[a.PAGE_UP]={keyCode:o.PAGE_UP,key:"PageUp"},u[a.PAGE_DOWN]={keyCode:o.PAGE_DOWN,key:"PageDown"},u[a.END]={keyCode:o.END,key:"End"},u[a.HOME]={keyCode:o.HOME,key:"Home"},u[a.LEFT_ARROW]={keyCode:o.LEFT_ARROW,key:"ArrowLeft"},u[a.UP_ARROW]={keyCode:o.UP_ARROW,key:"ArrowUp"},u[a.RIGHT_ARROW]={keyCode:o.RIGHT_ARROW,key:"ArrowRight"},u[a.DOWN_ARROW]={keyCode:o.DOWN_ARROW,key:"ArrowDown"},u[a.INSERT]={keyCode:o.INSERT,key:"Insert"},u[a.DELETE]={keyCode:o.DELETE,key:"Delete"},u[a.F1]={keyCode:o.F1,key:"F1"},u[a.F2]={keyCode:o.F2,key:"F2"},u[a.F3]={keyCode:o.F3,key:"F3"},u[a.F4]={keyCode:o.F4,key:"F4"},u[a.F5]={keyCode:o.F5,key:"F5"},u[a.F6]={keyCode:o.F6,key:"F6"},u[a.F7]={keyCode:o.F7,key:"F7"},u[a.F8]={keyCode:o.F8,key:"F8"},u[a.F9]={keyCode:o.F9,key:"F9"},u[a.F10]={keyCode:o.F10,key:"F10"},u[a.F11]={keyCode:o.F11,key:"F11"},u[a.F12]={keyCode:o.F12,key:"F12"},u[a.META]={keyCode:o.META,key:"Meta"},u),h=function(){function e(e,t){this.element=e,this._stabilize=t}return e.prototype.blur=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),n.triggerBlur(this.element),[4,this._stabilize()];case 2:return e.sent(),[2]}})})},e.prototype.clear=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:if(e.sent(),!n.isTextInput(this.element))throw Error("Attempting to clear an invalid element");return n.clearElement(this.element),[4,this._stabilize()];case 2:return e.sent(),[2]}})})},e.prototype.click=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=0),t.__awaiter(this,void 0,void 0,function(){var i,s,o,a;return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),i=this.element.getBoundingClientRect(),s=i.top,o=Math.round(i.left+e),a=Math.round(s+r),n.dispatchMouseEvent(this.element,"mousedown",o,a),n.dispatchMouseEvent(this.element,"mouseup",o,a),n.dispatchMouseEvent(this.element,"click",o,a),[4,this._stabilize()];case 2:return t.sent(),[2]}})})},e.prototype.focus=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),n.triggerFocus(this.element),[4,this._stabilize()];case 2:return e.sent(),[2]}})})},e.prototype.getCssValue=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,getComputedStyle(this.element).getPropertyValue(e)]}})})},e.prototype.hover=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),n.dispatchMouseEvent(this.element,"mouseenter"),[4,this._stabilize()];case 2:return e.sent(),[2]}})})},e.prototype.sendKeys=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.__awaiter(this,void 0,void 0,function(){var r;return t.__generator(this,function(i){switch(i.label){case 0:return[4,this._stabilize()];case 1:return i.sent(),r=e.map(function(e){return"number"==typeof e?d[e]:e}),n.typeInElement.apply(void 0,t.__spread([this.element],r)),[4,this._stabilize()];case 2:return i.sent(),[2]}})})},e.prototype.text=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),[2,(this.element.textContent||"").trim()]}})})},e.prototype.getAttribute=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,this.element.getAttribute(e)]}})})},e.prototype.hasClass=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,this.element.classList.contains(e)]}})})},e.prototype.getDimensions=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),[2,this.element.getBoundingClientRect()]}})})},e.prototype.getProperty=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,this.element[e]]}})})},e.prototype.matchesSelector=function(e){return t.__awaiter(this,void 0,void 0,function(){var n;return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,((n=Element.prototype).matches||n.msMatchesSelector).call(this.element,e)]}})})},e}(),_=function(e){function n(t,n){var r=e.call(this,t)||this;return r._fixture=n,r._destroyed=!1,r._taskState=l.setup(),n.componentRef.onDestroy(function(){return r._destroyed=!0}),r}return t.__extends(n,e),n.loader=function(e){return new n(e.nativeElement,e)},n.documentRootLoader=function(e){return new n(document.body,e)},n.harnessForFixture=function(e,r){return t.__awaiter(this,void 0,void 0,function(){var i;return t.__generator(this,function(t){switch(t.label){case 0:return[4,(i=new n(e.nativeElement,e)).forceStabilize()];case 1:return t.sent(),[2,i.createComponentHarness(r,e.nativeElement)]}})})},n.prototype.forceStabilize=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:if(this._destroyed)throw Error("Harness is attempting to use a fixture that has already been destroyed.");return this._fixture.detectChanges(),[4,this._fixture.whenStable()];case 1:return e.sent(),[2]}})})},n.prototype.waitForTasksOutsideAngular=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return Zone.current.get("FakeAsyncTestZoneSpec")&&r.flush(),[4,this._taskState.pipe(i.takeWhile(function(e){return!e.stable})).toPromise()];case 1:return e.sent(),[2]}})})},n.prototype.getDocumentRoot=function(){return document.body},n.prototype.createTestElement=function(e){var t=this;return new h(e,function(){return t.forceStabilize()})},n.prototype.createEnvironment=function(e){return new n(e,this._fixture)},n.prototype.getAllRawElements=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this.forceStabilize()];case 1:return t.sent(),[2,Array.from(this.rawRootElement.querySelectorAll(e))]}})})},n}(n.HarnessEnvironment);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
e.TestbedHarnessEnvironment=_,e.UnitTestElement=h,Object.defineProperty(e,"__esModule",{value:!0})});