!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("tslib"),require("@angular/cdk/testing"),require("@angular/core/testing"),require("rxjs/operators"),require("rxjs"),require("@angular/cdk/keycodes")):"function"==typeof define&&define.amd?define("@angular/cdk/testing/testbed",["exports","tslib","@angular/cdk/testing","@angular/core/testing","rxjs/operators","rxjs","@angular/cdk/keycodes"],t):t(((e=e||self).ng=e.ng||{},e.ng.cdk=e.ng.cdk||{},e.ng.cdk.testing=e.ng.cdk.testing||{},e.ng.cdk.testing.testbed={}),e.tslib,e.ng.cdk.testing,e.ng.core.testing,e.rxjs.operators,e.rxjs,e.ng.cdk.keycodes)}(this,function(e,t,n,r,i,o,s){"use strict";
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var a,u,c=Symbol("ProxyZone_PATCHED#stateObservable"),l=function(){function e(e){this._lastState=e,this._stateSubject=new o.BehaviorSubject(this._lastState?this._getTaskStateFromInternalZoneState(this._lastState):{stable:!0}),this.state=this._stateSubject.asObservable()}return e.prototype.onHasTask=function(e,t,n,r){t===n&&this._stateSubject.next(this._getTaskStateFromInternalZoneState(r))},e.prototype._getTaskStateFromInternalZoneState=function(e){return{stable:!e.macroTask&&!e.microTask}},e.setup=function(){if(void 0===Zone)throw Error("Could not find ZoneJS. For test harnesses running in TestBed, ZoneJS needs to be installed.");var t=Zone.ProxyZoneSpec;if(!t)throw Error("ProxyZoneSpec is needed for the test harnesses but could not be found. Please make sure that your environment includes zone.js/dist/zone-testing.js");var n=t.assertPresent();if(n[c])return n[c];var r=new e(n.lastTaskState),i=n.onHasTask;return n.onHasTask=function(){i.apply(n,arguments),r.onHasTask.apply(r,arguments)},n[c]=r.state},e}();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function d(e,t){return e.dispatchEvent(t),t}function f(e,t,n){return d(e,function r(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var r=document.createEvent("Event");return r.initEvent(e,t,n),r}(t,n))}function y(e,t,n,r,i,o){return d(e,function s(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=""),void 0===i&&(i={});var o=document.createEvent("KeyboardEvent"),s=o.preventDefault;if(o.initKeyEvent)o.initKeyEvent(e,!0,!0,window,i.control,i.alt,i.shift,i.meta,t);else{var a=(i.control?"Control ":""+i.alt?"Alt ":""+i.shift?"Shift ":""+i.meta?"Meta":"").trim();o.initKeyboardEvent(e,!0,!0,window,0,n,0,a,!1)}return Object.defineProperties(o,{keyCode:{get:function(){return t}},key:{get:function(){return n}},target:{get:function(){return r}},ctrlKey:{get:function(){return!!i.control}},altKey:{get:function(){return!!i.alt}},shiftKey:{get:function(){return!!i.shift}},metaKey:{get:function(){return!!i.meta}}}),o.preventDefault=function(){return Object.defineProperty(o,"defaultPrevented",{get:function(){return!0}}),s.apply(this,arguments)},o}(t,n,r,i,o))}function h(e,t,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function o(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0);var i=document.createEvent("MouseEvent"),o=i.preventDefault;return i.initMouseEvent(e,!0,!0,window,0,t,n,t,n,!1,!1,!1,!1,r,null),Object.defineProperty(i,"buttons",{get:function(){return 1}}),i.preventDefault=function(){return Object.defineProperty(i,"defaultPrevented",{get:function(){return!0}}),o.apply(this,arguments)},i}(t,n,r)),d(e,i)}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function _(e,t){var n=!1,r=function(){return n=!0};e.addEventListener(t,r),e[t](),e.removeEventListener(t,r),n||f(e,t)}function k(e){_(e,"focus")}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function v(e){var t=e.nodeName.toLowerCase();return"input"===t||"textarea"===t}!function(e){e[e.BACKSPACE=0]="BACKSPACE",e[e.TAB=1]="TAB",e[e.ENTER=2]="ENTER",e[e.SHIFT=3]="SHIFT",e[e.CONTROL=4]="CONTROL",e[e.ALT=5]="ALT",e[e.ESCAPE=6]="ESCAPE",e[e.PAGE_UP=7]="PAGE_UP",e[e.PAGE_DOWN=8]="PAGE_DOWN",e[e.END=9]="END",e[e.HOME=10]="HOME",e[e.LEFT_ARROW=11]="LEFT_ARROW",e[e.UP_ARROW=12]="UP_ARROW",e[e.RIGHT_ARROW=13]="RIGHT_ARROW",e[e.DOWN_ARROW=14]="DOWN_ARROW",e[e.INSERT=15]="INSERT",e[e.DELETE=16]="DELETE",e[e.F1=17]="F1",e[e.F2=18]="F2",e[e.F3=19]="F3",e[e.F4=20]="F4",e[e.F5=21]="F5",e[e.F6=22]="F6",e[e.F7=23]="F7",e[e.F8=24]="F8",e[e.F9=25]="F9",e[e.F10=26]="F10",e[e.F11=27]="F11",e[e.F12=28]="F12",e[e.META=29]="META"}(a||(a={}));var p=((u={})[a.BACKSPACE]={keyCode:s.BACKSPACE,key:"Backspace"},u[a.TAB]={keyCode:s.TAB,key:"Tab"},u[a.ENTER]={keyCode:s.ENTER,key:"Enter"},u[a.SHIFT]={keyCode:s.SHIFT,key:"Shift"},u[a.CONTROL]={keyCode:s.CONTROL,key:"Control"},u[a.ALT]={keyCode:s.ALT,key:"Alt"},u[a.ESCAPE]={keyCode:s.ESCAPE,key:"Escape"},u[a.PAGE_UP]={keyCode:s.PAGE_UP,key:"PageUp"},u[a.PAGE_DOWN]={keyCode:s.PAGE_DOWN,key:"PageDown"},u[a.END]={keyCode:s.END,key:"End"},u[a.HOME]={keyCode:s.HOME,key:"Home"},u[a.LEFT_ARROW]={keyCode:s.LEFT_ARROW,key:"ArrowLeft"},u[a.UP_ARROW]={keyCode:s.UP_ARROW,key:"ArrowUp"},u[a.RIGHT_ARROW]={keyCode:s.RIGHT_ARROW,key:"ArrowRight"},u[a.DOWN_ARROW]={keyCode:s.DOWN_ARROW,key:"ArrowDown"},u[a.INSERT]={keyCode:s.INSERT,key:"Insert"},u[a.DELETE]={keyCode:s.DELETE,key:"Delete"},u[a.F1]={keyCode:s.F1,key:"F1"},u[a.F2]={keyCode:s.F2,key:"F2"},u[a.F3]={keyCode:s.F3,key:"F3"},u[a.F4]={keyCode:s.F4,key:"F4"},u[a.F5]={keyCode:s.F5,key:"F5"},u[a.F6]={keyCode:s.F6,key:"F6"},u[a.F7]={keyCode:s.F7,key:"F7"},u[a.F8]={keyCode:s.F8,key:"F8"},u[a.F9]={keyCode:s.F9,key:"F9"},u[a.F10]={keyCode:s.F10,key:"F10"},u[a.F11]={keyCode:s.F11,key:"F11"},u[a.F12]={keyCode:s.F12,key:"F12"},u[a.META]={keyCode:s.META,key:"Meta"},u),E=function(){function e(e,t){this.element=e,this._stabilize=t}return e.prototype.blur=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),function t(e){_(e,"blur")}(this.element),[4,this._stabilize()];case 2:return e.sent(),[2]}})})},e.prototype.clear=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:if(e.sent(),!v(this.element))throw Error("Attempting to clear an invalid element");return function t(e){k(e),e.value="",f(e,"input")}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(this.element),[4,this._stabilize()];case 2:return e.sent(),[2]}})})},e.prototype.click=function(e,n){return void 0===e&&(e=0),void 0===n&&(n=0),t.__awaiter(this,void 0,void 0,function(){var r,i,o,s;return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),r=this.element.getBoundingClientRect(),i=r.top,o=Math.round(r.left+e),s=Math.round(i+n),h(this.element,"mousedown",o,s),h(this.element,"mouseup",o,s),h(this.element,"click",o,s),[4,this._stabilize()];case 2:return t.sent(),[2]}})})},e.prototype.focus=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),k(this.element),[4,this._stabilize()];case 2:return e.sent(),[2]}})})},e.prototype.getCssValue=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,getComputedStyle(this.element).getPropertyValue(e)]}})})},e.prototype.hover=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),h(this.element,"mouseenter"),[4,this._stabilize()];case 2:return e.sent(),[2]}})})},e.prototype.sendKeys=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.__awaiter(this,void 0,void 0,function(){var n;return t.__generator(this,function(r){switch(r.label){case 0:return[4,this._stabilize()];case 1:return r.sent(),n=e.map(function(e){return"number"==typeof e?p[e]:e}),function i(e){for(var n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s,a,u=i[0];"string"!=typeof u&&void 0===u.keyCode&&void 0===u.key?(s=u,a=i.slice(1)):(s={},a=i);var c=a.map(function(e){return"string"==typeof e?e.split("").map(function(e){return{keyCode:e.toUpperCase().charCodeAt(0),key:e}}):[e]}).reduce(function(e,t){return e.concat(t)},[]);k(e);try{for(var l=t.__values(c),d=l.next();!d.done;d=l.next()){var h=d.value;y(e,"keydown",h.keyCode,h.key,e,s),y(e,"keypress",h.keyCode,h.key,e,s),v(e)&&h.key&&1===h.key.length&&(e.value+=h.key,f(e,"input")),y(e,"keyup",h.keyCode,h.key,e,s)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}.apply(void 0,t.__spread([this.element],n)),[4,this._stabilize()];case 2:return r.sent(),[2]}})})},e.prototype.text=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),[2,(this.element.textContent||"").trim()]}})})},e.prototype.getAttribute=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,this.element.getAttribute(e)]}})})},e.prototype.hasClass=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,this.element.classList.contains(e)]}})})},e.prototype.getDimensions=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this._stabilize()];case 1:return e.sent(),[2,this.element.getBoundingClientRect()]}})})},e.prototype.getProperty=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,this.element[e]]}})})},e.prototype.matchesSelector=function(e){return t.__awaiter(this,void 0,void 0,function(){var n;return t.__generator(this,function(t){switch(t.label){case 0:return[4,this._stabilize()];case 1:return t.sent(),[2,((n=Element.prototype).matches||n.msMatchesSelector).call(this.element,e)]}})})},e}(),g=function(e){function n(t,n){var r=e.call(this,t)||this;return r._fixture=n,r._destroyed=!1,r._taskState=l.setup(),n.componentRef.onDestroy(function(){return r._destroyed=!0}),r}return t.__extends(n,e),n.loader=function(e){return new n(e.nativeElement,e)},n.documentRootLoader=function(e){return new n(document.body,e)},n.harnessForFixture=function(e,r){return t.__awaiter(this,void 0,void 0,function(){var i;return t.__generator(this,function(t){switch(t.label){case 0:return[4,(i=new n(e.nativeElement,e)).forceStabilize()];case 1:return t.sent(),[2,i.createComponentHarness(r,e.nativeElement)]}})})},n.prototype.forceStabilize=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:if(this._destroyed)throw Error("Harness is attempting to use a fixture that has already been destroyed.");return this._fixture.detectChanges(),[4,this._fixture.whenStable()];case 1:return e.sent(),[2]}})})},n.prototype.waitForTasksOutsideAngular=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return Zone.current.get("FakeAsyncTestZoneSpec")&&r.flush(),[4,this._taskState.pipe(i.takeWhile(function(e){return!e.stable})).toPromise()];case 1:return e.sent(),[2]}})})},n.prototype.getDocumentRoot=function(){return document.body},n.prototype.createTestElement=function(e){var t=this;return new E(e,function(){return t.forceStabilize()})},n.prototype.createEnvironment=function(e){return new n(e,this._fixture)},n.prototype.getAllRawElements=function(e){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(t){switch(t.label){case 0:return[4,this.forceStabilize()];case 1:return t.sent(),[2,Array.from(this.rawRootElement.querySelectorAll(e))]}})})},n}(n.HarnessEnvironment);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
e.TestbedHarnessEnvironment=g,e.UnitTestElement=E,Object.defineProperty(e,"__esModule",{value:!0})});