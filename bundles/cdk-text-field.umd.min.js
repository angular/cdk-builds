/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/platform"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@angular/cdk/textField",["exports","@angular/cdk/platform","@angular/core","rxjs","rxjs/operators"],t):t((e.ng=e.ng||{},e.ng.cdk=e.ng.cdk||{},e.ng.cdk.textField={}),e.ng.cdk.platform,e.ng.core,e.Rx,e.Rx.operators)}(this,function(e,t,i,n,o){"use strict";var r=!!t.supportsPassiveEventListeners()&&{passive:!0},s=function(){function e(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}return e.prototype.monitor=function(e){if(!this._platform.isBrowser)return n.EMPTY;var t=this._monitoredElements.get(e);if(t)return t.subject.asObservable();var i=new n.Subject,o=function(t){"cdk-text-field-autofill-start"===t.animationName?(e.classList.add("cdk-text-field-autofilled"),i.next({target:t.target,isAutofilled:!0})):"cdk-text-field-autofill-end"===t.animationName&&(e.classList.remove("cdk-text-field-autofilled"),i.next({target:t.target,isAutofilled:!1}))};return this._ngZone.runOutsideAngular(function(){e.addEventListener("animationstart",o,r),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:function(){e.removeEventListener("animationstart",o,r)}}),i.asObservable()},e.prototype.stopMonitoring=function(e){var t=this._monitoredElements.get(e);t&&(t.unlisten(),t.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))},e.prototype.ngOnDestroy=function(){var e=this;this._monitoredElements.forEach(function(t,i){return e.stopMonitoring(i)})},e.decorators=[{type:i.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:t.Platform},{type:i.NgZone}]},e.ngInjectableDef=i.defineInjectable({factory:function(){return new e(i.inject(t.Platform),i.inject(i.NgZone))},token:e,providedIn:"root"}),e}(),a=function(){function e(e,t){this._elementRef=e,this._autofillMonitor=t,this.cdkAutofill=new i.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(t){return e.cdkAutofill.emit(t)})},e.prototype.ngOnDestroy=function(){this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)},e.decorators=[{type:i.Directive,args:[{selector:"[cdkAutofill]"}]}],e.ctorParameters=function(){return[{type:i.ElementRef},{type:s}]},e.propDecorators={cdkAutofill:[{type:i.Output}]},e}(),l=function(){function e(e,t,i){this._elementRef=e,this._platform=t,this._ngZone=i,this._destroyed=new n.Subject}return Object.defineProperty(e.prototype,"minRows",{get:function(){return this._minRows},set:function(e){this._minRows=e,this._setMinHeight()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxRows",{get:function(){return this._maxRows},set:function(e){this._maxRows=e,this._setMaxHeight()},enumerable:!0,configurable:!0}),e.prototype._setMinHeight=function(){var e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&this._setTextareaStyle("minHeight",e)},e.prototype._setMaxHeight=function(){var e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&this._setTextareaStyle("maxHeight",e)},e.prototype.ngAfterViewInit=function(){var e=this;this._platform.isBrowser&&(this.resizeToFitContent(),this._ngZone.runOutsideAngular(function(){n.fromEvent(window,"resize").pipe(o.auditTime(16),o.takeUntil(e._destroyed)).subscribe(function(){return e.resizeToFitContent(!0)})}))},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},e.prototype._setTextareaStyle=function(e,t){this._elementRef.nativeElement.style[e]=t},e.prototype._cacheTextareaLineHeight=function(){if(!this._cachedLineHeight){var e=this._elementRef.nativeElement,t=e.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",e.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,e.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}},e.prototype.ngDoCheck=function(){this._platform.isBrowser&&this.resizeToFitContent()},e.prototype.resizeToFitContent=function(e){var t=this;if(void 0===e&&(e=!1),this._cacheTextareaLineHeight(),this._cachedLineHeight){var i=this._elementRef.nativeElement,n=i.value;if(n!==this._previousValue||e){var o=i.placeholder;i.classList.add("cdk-textarea-autosize-measuring"),i.placeholder="";var r=i.scrollHeight-4;i.style.height=r+"px",i.classList.remove("cdk-textarea-autosize-measuring"),i.placeholder=o,"undefined"!=typeof requestAnimationFrame&&this._ngZone.runOutsideAngular(function(){return requestAnimationFrame(function(){var e=i.selectionStart,n=i.selectionEnd;t._destroyed.isStopped||i.setSelectionRange(e,n)})}),this._previousValue=n}}},e.prototype._noopInputHandler=function(){},e.decorators=[{type:i.Directive,args:[{selector:"textarea[cdkTextareaAutosize]",exportAs:"cdkTextareaAutosize",host:{class:"cdk-textarea-autosize",rows:"1","(input)":"_noopInputHandler()"}}]}],e.ctorParameters=function(){return[{type:i.ElementRef},{type:t.Platform},{type:i.NgZone}]},e.propDecorators={minRows:[{type:i.Input,args:["cdkAutosizeMinRows"]}],maxRows:[{type:i.Input,args:["cdkAutosizeMaxRows"]}]},e}(),u=function(){function e(){}return e.decorators=[{type:i.NgModule,args:[{declarations:[a,l],imports:[t.PlatformModule],exports:[a,l]}]}],e}();e.AutofillMonitor=s,e.CdkAutofill=a,e.CdkTextareaAutosize=l,e.TextFieldModule=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=cdk-text-field.umd.min.js.map
